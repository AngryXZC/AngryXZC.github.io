<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"angryxzc.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="article">
<meta property="og:title" content="初识MySQL">
<meta property="og:url" content="http://angryxzc.github.io/2025/05/14/%E5%88%9D%E8%AF%86MySQL/index.html">
<meta property="og:site_name" content="星之辰的博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://angryxzc.github.io/images/howmysqlrun/%E5%9B%BE1-1.png">
<meta property="og:image" content="http://angryxzc.github.io/images/howmysqlrun/%E8%A1%A81-2.png">
<meta property="og:image" content="http://angryxzc.github.io/images/howmysqlrun/%E8%A1%A81-3.png">
<meta property="article:published_time" content="2025-05-14T07:21:34.000Z">
<meta property="article:modified_time" content="2025-05-14T12:44:05.143Z">
<meta property="article:author" content="星之辰">
<meta property="article:tag" content="MySQL是怎样运行的">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://angryxzc.github.io/images/howmysqlrun/%E5%9B%BE1-1.png">


<link rel="canonical" href="http://angryxzc.github.io/2025/05/14/%E5%88%9D%E8%AF%86MySQL/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://angryxzc.github.io/2025/05/14/%E5%88%9D%E8%AF%86MySQL/","path":"2025/05/14/初识MySQL/","title":"初识MySQL"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>初识MySQL | 星之辰的博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">星之辰的博客</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">What I cannot create, I do not understand-Feynman Diagram</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL-%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%9E%B6%E6%9E%84"><span class="nav-number">1.</span> <span class="nav-text">MySQL 的客户端&#x2F;服务端架构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">2.</span> <span class="nav-text">MySQL的安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#bin%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6"><span class="nav-number">2.1.</span> <span class="nav-text">bin目录下的可执行文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8MySQL%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A8%8B%E5%BA%8F"><span class="nav-number">3.</span> <span class="nav-text">启动MySQL服务器程序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8%E7%B1%BBUNIX%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A8%8B%E5%BA%8F"><span class="nav-number">3.1.</span> <span class="nav-text">在类UNIX系统中启动服务器程序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8Windows%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A8%8B%E5%BA%8F"><span class="nav-number">3.2.</span> <span class="nav-text">在Windows系统中启动服务器程序</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8MySQL%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%A8%8B%E5%BA%8F"><span class="nav-number">4.</span> <span class="nav-text">启动MySQL客户端程序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">4.1.</span> <span class="nav-text">连接注意事项</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="nav-number">5.</span> <span class="nav-text">客户端与服务器连接的过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-IP"><span class="nav-number">5.1.</span> <span class="nav-text">TCP&#x2F;IP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E7%AE%A1%E9%81%93%E5%92%8C%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98"><span class="nav-number">5.2.</span> <span class="nav-text">命名管道和共享内存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UNIX%E5%9F%9F%E5%A5%97%E6%8E%A5%E5%AD%97"><span class="nav-number">5.3.</span> <span class="nav-text">UNIX域套接字</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A4%84%E7%90%86%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AF%B7%E6%B1%82"><span class="nav-number">6.</span> <span class="nav-text">服务器处理客户端请求</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86"><span class="nav-number">6.1.</span> <span class="nav-text">连接管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90%E4%B8%8E%E4%BC%98%E5%8C%96"><span class="nav-number">6.2.</span> <span class="nav-text">解析与优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-number">6.3.</span> <span class="nav-text">存储引擎</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-number">7.</span> <span class="nav-text">常用存储引擎</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C"><span class="nav-number">8.</span> <span class="nav-text">关于存储引擎的一些操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A8%8B%E5%BA%8F%E6%94%AF%E6%8C%81%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-number">8.1.</span> <span class="nav-text">查看当前服务器程序支持的存储引擎</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E8%A1%A8%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="nav-number">8.2.</span> <span class="nav-text">设置表的存储引擎</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">星之辰</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">69</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://angryxzc.github.io/2025/05/14/%E5%88%9D%E8%AF%86MySQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="星之辰">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="星之辰的博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="初识MySQL | 星之辰的博客">
      <meta itemprop="description" content="重新认识下MYSQL">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          初识MySQL
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-05-14 15:21:34 / 修改时间：20:44:05" itemprop="dateCreated datePublished" datetime="2025-05-14T15:21:34+08:00">2025-05-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>27 分钟</span>
    </span>
</div>

            <div class="post-description">重新认识下MYSQL</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="MySQL-的客户端-服务端架构"><a href="#MySQL-的客户端-服务端架构" class="headerlink" title="MySQL 的客户端&#x2F;服务端架构"></a>MySQL 的客户端&#x2F;服务端架构</h2><p>MySQL的服务器程序直接与要存储的数据打交道，多个客户端程序可以连接到这个服务器程序，向服务器发送增删查改的请求，然后服务器程序根据这些请求，对存储的数据进行相应处理.MySQL的每一个客户端都需要使用用户名和密码才能登录服务器，而且只有在登录之后才能向服务器发送某些请求来操作数据.MySQL的日常使用场景是下面这样的。</p>
<ol>
<li>启动MySQL服务器程序.</li>
<li>启动MySQL客户端程序，并连接到服务器程序.</li>
<li>在客户端程序中输入命令语句，并将其作为请求发送给服务器程序.服务器程序在收到这些请求后，根据请求的内容来操作具体的数据，并将结果返回给客户端.</li>
</ol>
<p>计算机上运行的每一个程序也称为一个进程.运行过程中的MySQL服务器程序和客户端程序在本质上来说都算是计算机中的进程，其中代表MySQL服务器程序的进程称为MySQL数据库实例(instance).</p>
<h2 id="MySQL的安装"><a href="#MySQL的安装" class="headerlink" title="MySQL的安装"></a>MySQL的安装</h2><p>在安装MySQL时，无论是通过下载源代码的方式自行编译安装，还是直接使用官方提供的安装包进行安装.MySQL的服务器程序和客户端程序都会安装到机器上.无论采用上述哪种安装方式，一定要记住MySQL的安装目录.</p>
<p>我本机上的安装目录为：<code>/opt/homebrew/opt/mysql@8.0/</code></p>
<h3 id="bin目录下的可执行文件"><a href="#bin目录下的可执行文件" class="headerlink" title="bin目录下的可执行文件"></a>bin目录下的可执行文件</h3><p>在MySQL的安装目录下有一个特别重要的bin目录，这个目录存放着许多可执行文件.我的MacOS(M3芯片)系统为例，这个bin目录的绝对路径为<code>/opt/homebrew/opt/mysql@8.0/bin</code></p>
<p>下面我们列出macOS系统中这个bin目录下的可执行文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── comp_err</span><br><span class="line">├── ibd2sdi</span><br><span class="line">├── innochecksum</span><br><span class="line">├── my_print_defaults</span><br><span class="line">├── myisam_ftdump</span><br><span class="line">├── myisamchk</span><br><span class="line">├── myisamlog</span><br><span class="line">├── myisampack</span><br><span class="line">├── mysql</span><br><span class="line">├── mysql_client_test</span><br><span class="line">├── mysql_config</span><br><span class="line">├── mysql_config_editor</span><br><span class="line">├── mysql_keyring_encryption_test</span><br><span class="line">├── mysql_migrate_keyring</span><br><span class="line">├── mysql_secure_installation</span><br><span class="line">├── mysql_ssl_rsa_setup</span><br><span class="line">├── mysql_tzinfo_to_sql</span><br><span class="line">├── mysql_upgrade</span><br><span class="line">├── mysql.server -&gt; ../support-files/mysql.server</span><br><span class="line">├── mysqladmin</span><br><span class="line">├── mysqlbinlog</span><br><span class="line">├── mysqlcheck</span><br><span class="line">├── mysqld</span><br><span class="line">├── mysqld_multi</span><br><span class="line">├── mysqld_safe</span><br><span class="line">├── mysqldump</span><br><span class="line">├── mysqldumpslow</span><br><span class="line">├── mysqlimport</span><br><span class="line">├── mysqlpump</span><br><span class="line">├── mysqlrouter</span><br><span class="line">├── mysqlrouter_keyring</span><br><span class="line">├── mysqlrouter_passwd</span><br><span class="line">├── mysqlrouter_plugin_info</span><br><span class="line">├── mysqlshow</span><br><span class="line">├── mysqlslap</span><br><span class="line">├── mysqltest</span><br><span class="line">├── mysqltest_safe_process</span><br><span class="line">├── mysqlxtest</span><br><span class="line">├── perror</span><br><span class="line">└── zlib_decompress</span><br><span class="line"></span><br><span class="line">1 directory, 40 files</span><br></pre></td></tr></table></figure>

<p>些可执行文件中，有的是服务器程序，有的是客户端程序.后面会详细介绍一些比较重要的可执行文件，这里先看一下这些文件的执行方式.</p>
<ul>
<li>使用可执行文件的相对&#x2F;绝对路径来执行.</li>
<li>将bin目录的绝对路径加入到环境变量PATH中.</li>
</ul>
<h2 id="启动MySQL服务器程序"><a href="#启动MySQL服务器程序" class="headerlink" title="启动MySQL服务器程序"></a>启动MySQL服务器程序</h2><h3 id="在类UNIX系统中启动服务器程序"><a href="#在类UNIX系统中启动服务器程序" class="headerlink" title="在类UNIX系统中启动服务器程序"></a>在类UNIX系统中启动服务器程序</h3><p>在类UNIX系统中，用来启动MySQL服务器程序的可执行文件有很多，且大部分都位于MySQL安装目录的bin目录下.下面我们一探究竟.</p>
<ol>
<li><p>mysqld<br>mysqld可执行文件就表示MySQL服务器程序，运行这个可执行文件就可以直接启动一个MySQL服务器进程.但这个可执行文件并不常用，我们继续看其他的启动命令.</p>
</li>
<li><p>mysqld_safe<br>mysqld_safe是一个启动脚本，它会间接调用my叫ld并持续监控服务器的运行状态.当服务器进程出现错误时，它还可以帮助重启服务器程序.另外，使用mysqld_safe启动MySQL服务器程序时，它会将服务器程序的出错信息和其他诊断信息输出到错误日志，以方便后期查找发生错误的原因.<br><strong>出错日志默认写到一个以.err为扩展名的文件中，该文件位于MySQL的数据目录中.</strong></p>
</li>
<li><p>mysql.server<br>mysql.server也是一个启动脚本，它会间接地调用mysql_safe.在执行mysql.server时，在后面添加start此参数就可以启动服务器程序了，如下所示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql.server start</span><br></pre></td></tr></table></figure>

<p> 需要注意的是.mysql.server文件其实是一个链接文件，它对应的实际文件是<code>../support-files/mysql.server</code><br> <strong>通过源玛安装MySQL.或者使用一个没有自动安装mysql.server脚本的安装包来安装MySQL时，需要手动安装这个mysql.server脚本.具体安装方式可以参阅相关文档.</strong><br> 还可以使用mysql.server来关闭正在运行的服务器程序，此时只需把start参数换成stop即可，如下所示：</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql.server stop</span><br></pre></td></tr></table></figure>
</li>
<li><p>mysqld_multi<br>其实我们在一台计算机上也可以运行多个服务器实例，也就是运行多个MySQL服务器进程mysqld_ multi可执行文件可以启动或停止多个服务器进程，也能报告它们的运行状态.这个命令的使用比较复杂，本书主要是为了解单个MySQL服务器的运行过程，不会对启动多个服务器程序进行过多叙述.</p>
</li>
</ol>
<p><strong>mysqld _ safe、mysql.server和mysqld_multi本质上是一个Shell脚本，大家可以直接把它们当作文本打开并进行浏览(前提是能看懂Shell脚本).</strong></p>
<h3 id="在Windows系统中启动服务器程序"><a href="#在Windows系统中启动服务器程序" class="headerlink" title="在Windows系统中启动服务器程序"></a>在Windows系统中启动服务器程序</h3><ul>
<li>手动启动<br>在Windows系统中安装完MySQL之后，MySQL安装目录的bin目录下也会存在-1’mysqld可执行文件·在命令行解释器中输入m州d，或者直接在bin目录下双击该文件，就可以启叨MySQL服务器程序了。</li>
<li>以服务的方式启动<br>  在Windows系统中，MySQL的服务器程序是一个Windows服务.在安装MySQL时，安装程序会自动创建一个名为MySQL的Windows服务.可以通过Windows的服务管理器来启动和停止这个服务.具体操作如下：<ol>
<li>打开控制面板.</li>
<li>点击“管理工具”.</li>
<li>点击“服务”.</li>
<li>找到名为MySQL的服务，右键点击它，然后选择“启动”或“停止”.</li>
</ol>
</li>
</ul>
<h2 id="启动MySQL客户端程序"><a href="#启动MySQL客户端程序" class="headerlink" title="启动MySQL客户端程序"></a>启动MySQL客户端程序</h2><p>在成功启动MySQL服务器程序后，就可以启动客户端程序来连接到这个服务器了. bin 目录下有许多客户端程序，比方说mysqladmin、mysqldump、mysqlcheck等·这里要重点关注的是可执行文件mysql（指的是一个名称为mysql的可执行文件）通过这个可执行文件，我们可以与服务器程序交互，也就是发送请求并接收服务器的处理结果。启动这个可执行文件时，一般需要一些参数，格式如下。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h &lt;host&gt; -u &lt;user&gt; -p &lt;password&gt;</span><br></pre></td></tr></table></figure>

<p>各个参数的意义如表1-1所示.</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-h</td>
<td>表示服务辑进程所在计算机的域名或者IP地址.如果服务器进程就运行在本机的话，可以省略这个参数，或者填写localhost或127.0.0.1，也可以写成”–host&#x3D;主机名”的形式</td>
</tr>
<tr>
<td>-u</td>
<td>表示用户名:也可以写成”–user用户名的形式</td>
</tr>
<tr>
<td>-p</td>
<td>表示密码，也可以写成”-password&#x3D;密码”的形式</td>
</tr>
</tbody></table>
<p>像h、u、p这种名称只有一个英文字母的参数称为短形式的参数，使用时前面需要加单短划线;像host、user、password这种有多个字母组成的参数称为长形式的参数，使用时前面需要加双短划线.后文会详细讨论这些参数的使用方式</p>
<p>比如我们在黑框框中执行下面这个语句(用户名和密码按实际情况填写)，就可以启动MySQL客户端，并且连接到服务器了.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h localhost -u root -proot</span><br></pre></td></tr></table></figure>

<p>如果连接成功，就会看到下面的提示符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql: [Warning] Using a password on the <span class="built_in">command</span> line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection <span class="built_in">id</span> is 20</span><br><span class="line">Server version: 8.0.42 Homebrew</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2025, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最后一行的mysql&gt;是一个客户端的提示符，之后客户端发送给服务器的命令都需要写在这个提示符后边.</p>
<p>如果我们想断开客户端与服务榕的连接并且关闭客户端的话，可以在mysql&gt;提示符后输入下面任意一个命令:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exit</span></span><br><span class="line">quit</span><br><span class="line">\q</span><br></pre></td></tr></table></figure>

<p>比如输入quit试试:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; quit</span><br><span class="line">Bye</span><br></pre></td></tr></table></figure>

<p>输出Bye说明客户端程序已经关掉了.大家一定要注意，这是关闭客户端程序的方式，而不是关闭服务器程序的方式。怎么关闭服务器程序已经在前文叙述。</p>
<h3 id="连接注意事项"><a href="#连接注意事项" class="headerlink" title="连接注意事项"></a>连接注意事项</h3><ul>
<li>最好不要在一行命令中输入密码.<br>在一些系统中，我们直接在黑框框中输入的密码可能会被同一台机器上的其他用户通过诸如ps之类的命令看到。</li>
<li>如果非要在一行命令中显式地输入密码，那么?和密码值之间不能有空白字符(其他参数名和参数值之间可以有空白字符)，就像下面这样：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h localhost -u root -proot</span><br></pre></td></tr></table></figure>

<ul>
<li>mysql的各个参数的顺序没有硬性规定</li>
<li>如果你的服务器和客户端安装在同一台机器上，-h参数可以省赂。</li>
<li>如果你使用的是类UNIX系统，在省略-u参数后，会把登录操作系统的用户名当作MySQL的用户名去处理.</li>
</ul>
<h2 id="客户端与服务器连接的过程"><a href="#客户端与服务器连接的过程" class="headerlink" title="客户端与服务器连接的过程"></a>客户端与服务器连接的过程</h2><p>们现在已经知道如何启动MySQL的服务器程序，以及如何启动客户端程序来连接到这个服务器程序.运行中的服务器程序和客户端程序本质上都是计算机上的一个进程，所以客户端进程向服务器进程发送请求并得到响应的过程本质上是一个进程间通信的过程MySQL支持下面几种客户端进程和服务器进程的通信方式.</p>
<h3 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP&#x2F;IP"></a>TCP&#x2F;IP</h3><p>在真实环境中，数据库服务器进程和客户端进程可能运行在不同的主机中，它们之间必须通过网络进行通信.MySQL采用TCP作为服务器和客户端之间的网络通信协议。在网络环境下，每台计算机都南一个唯一的IP地址，如果某个进程需要采用TCP协议进行网络通信，就可以向操作系统申请一个端口号.端口号是一个整数值，它的取值范围是0~ 65535.这样，网络中的其他进程就可以通过IP地址+端口号的方式与这个进程建立连接，这样进程之间就可以通过网络进行通信了。</p>
<p>MySQL服务器在启动时会默认申请3306端口号，之后就在这个端口号上等待客户端进程进行连接.用书面一点的话来说，MySQL服务器会默认监听3306端口.</p>
<p>如果3306端口号已经被别的进程占用，或者我们单纯地想自定义该服务器进程监听的端口号，就可以在启动服务器程序的命令行中添加-P参数来明确指定端口号，比如这样·</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld -P 3307</span><br></pre></td></tr></table></figure>

<p>这样MySQL服务榕在启动时就会去监听指定的端口号3307.</p>
<p>如果客户端进程想要使用TCP&#x2F;IP网络与服务器进程进行通信，那么我们在使用mysql命令启动客户端程序时，在-h参数后必须跟随P地址来作为需要连接的服务器进程所在主机的主机名。如果客户端进程和服务器进程位于同一台计算机中，则可以使用127.0.0.1来代表本机的E地址。另外，如果服务器进程监听的端口号不是默认的3306，我们也可以在使用mysql命令启动客户端程序时使用-P参数(注意是大写的P，小写的p是用来指定密码的)指定需要连接的端口号。比如我们现在已经在本机启动了服务器，监听的端口号为3307，我们在启动客户端程序时可以这样写:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h127.0.0.1 -P 3307 -u root -proot</span><br></pre></td></tr></table></figure>

<h3 id="命名管道和共享内存"><a href="#命名管道和共享内存" class="headerlink" title="命名管道和共享内存"></a>命名管道和共享内存</h3><p>果你是一位Windows用户，那么可以考虑在客户端进程和服务器进程之间使用命名管道或共享内存进行通信，不过在使用这些通信方式的时候，需要在启动服务器程序和客户端程序时添加一些参数。</p>
<ul>
<li>使用命名管道进行通信时，服务器程序需要添加–enable-named-pipe参数，客户端程序需要添加–protocol&#x3D;pipe或者–pipe参数.</li>
<li>使用共享内存进行进程间通信:需要在启动服务器程序的命令中加上–shared-memory参数.在成功启动服务楼后，共享内存便成为本地客户端程序的默认连接方式.我们也可以在启动客户端程序的命令中加上protocol&#x3D;memory参数来显式指定使用共享内存进行通信.</li>
</ul>
<p>需要注意的是，使用共享内存进行通信的服务器进程和客户端进程必须位于同一台Windows主机中.</p>
<p>命名管道和共享内存是Windows操作革统中的两种进程间通信方式，如果没听过也不用纠结，这并不妨碍我们学习MySQL的知识.</p>
<h3 id="UNIX域套接字"><a href="#UNIX域套接字" class="headerlink" title="UNIX域套接字"></a>UNIX域套接字</h3><p>如果服务器进程和客户端进程都运行在操作系统为类UNIX的同一台机器上，则可以使用UN1X域套接字进行进程间通信.如果在启动客户端程序时没有指定主机名，或者指定的主机名为localhost.又或者指定了–protocol&#x3D;socket的启动参数，那么服务器程序和客户端程序之间就可以通过UNIX域套接字进行通信了.</p>
<p>MySQL服务器程序默认监口斤的UNIX域套接字文件名称为&#x2F;tem&#x2F;mysql.sock.客户端程序也默认连接到这个UN1X域套接字文件名称.如果想改变这个默认的名称，可以在启动服务器程序时指定socket参数，就像下面这样:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --socket=/tmp/a.txt</span><br></pre></td></tr></table></figure>

<p>样服务器在启动后便会监听tmp&#x2F;a.txt.在服务器改变了默认的UNIX域套接字文件名称后，如果客户端程序想通过UNIX域套接字进行通信，也需要显式地指定连接的UNIX域套接字文件名称，就像下面这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -hlocalhost -uroot --socket=/tmp/a.txt -p</span><br></pre></td></tr></table></figure>

<p>如果不了解啥是UNIX城套接字也不用深究了，这里只是为了内容的完整性才写的.只要知道有这么一种进程问通信的方式就好了，对我们理解后续的内容并没有影响.</p>
<h2 id="服务器处理客户端请求"><a href="#服务器处理客户端请求" class="headerlink" title="服务器处理客户端请求"></a>服务器处理客户端请求</h2><p>其实，无论客户端进程和服务器进程采用哪种方式进行通信，最后实现的效果都是客户端进程向服务器进程发送一段文本(MySQL语句).服务器进程处理后再向客户端进程返回一段文本（处理结果）那么，服务器进程对客户端迸程发送的请求做了什么处理，才能产生最后的处理结果呢?客户端可以向服务器发送增删改查等各类请求，这里以比较复杂的查询请求为例来展示一下大致的过程，如图1-1所示.</p>
<p><img src="/images/howmysqlrun/%E5%9B%BE1-1.png" alt="MySQL服务器处理客户端请求的过程"></p>
<p>从图1-1中可以看出，服务器程序在处理来自客户端的查询请求时，大致需要分为3部分:连接管理、解析与优化、存储引擎.下边来详细看一下这3部分都做了些什么.</p>
<h3 id="连接管理"><a href="#连接管理" class="headerlink" title="连接管理"></a>连接管理</h3><p>客户端进程可以采用前面介绍的TCP&#x2F;IP、命名管道或共享内存、UNIX域套接字等几种方式与服务器进程建立连接.每当有一个客户端进程连接到服务器进程时，服务器进程都会创建一个线程专门处理与这个客户端的交互;当该客户端退出时会与服务器断开连接，服务器并不会立即把与该客户端交互的线程销毁，而是把它缓存起来，在另一个新的客户端再进行连接时，把这个缓存的线程分配给该新客户端.这样就不用频繁地创建和销毁线程，从而节省了开销.从这一点大家也能看出，MySQL服务器会为每一个连接进来的客户端分配一个线程，但是线程分配得太多会严重影响系统性能，所以我们也需要限制可以同时连接到服务器的客户端数量，至于怎么限制我们后边再说.</p>
<p>在客户端程序发起连接时，需要携带主机信息、用户名、密码等信息，服务器程序会对客户端程序提供的这些信息进行认证.如果认证失败，服务器程序会拒绝连接.另外，如果客户端程序和服务器程序不运行在一台计算机上，我们还可以通过采用传输层安全性(TransportLayer Security, TLS)协议对连接进行加密，从而保证数据传输的安全性。</p>
<p>当连接建立后，与该客户端关联的服务器线程会一直等待客户端发送过来的请求.MySQL服务器接收到的请求只是一个文本消息，该文本消息还要经过各种处理.预知后事如何，请继续往下看.</p>
<h3 id="解析与优化"><a href="#解析与优化" class="headerlink" title="解析与优化"></a>解析与优化</h3><p>到现在为止，MySQL服务器已经获得了文本形式的请求，接着还要经过”九九八十一难”的处理，其中几个比较重要的部分分别是查询缓存、语法解析和查询优化.下面我们详细来看。</p>
<ol>
<li><p>查询缓存<br>如果我问你9+8x16-3x2x17的值是多少，你可能会用计算器去算一下，或者再厉害一点直接用心算，最终得到了结果35.如果我再问你一遍9+8xI6-3x2x17的值是多少，你还用再傻呵呵地算一遍么?我们刚刚己经算过了，直接说答案就好了.</p>
<p>MySQL服务器程序处理查询请求的过程也是这样，会把刚刚处理过的查询请求和结果缓存起来.如果下一次有同样的请求过来，直接从缓存中查找结果就好了，就不用再去底层的表中查找了.这个查询缓存可以在不同的客户端之间共享，也就是说，如果客户端A刚刚发送了一个查询请求，而客户端B之后发送了同样的查询请求，那么客户端B的这次查询就可以直接使用查询缓存中的数据了.</p>
<p>当然.MySQL服务器并没有人那么聪明，如果两个查询请求有任何字符上的不同(例如，空格、注释、大小写).都会导致缓存不会命中.另外，如果查询请求中包含某些系统函数、用户自定义变量和函数、系统衰，如mysql、infonnationschema、perrformance_schema数据库中的表，则这个请求就不会被缓存.以某些系统函数为例，同一个函数的两次调用可能会产生不一样的结果.比如函数NOW.每次调用时都会产生最新的当前时间.如果在两个查询请求中调用了这个函数，即使查询请求的文本信息都一样，那么不同时间的两次查询也应该得到不同的结果.如果在第一次查询时就缓存了结果，在第二次查询时直接使用第一次查询的结果就是错误的!</p>
<p>不过既然是缓存，那就有缓存失效的时候.MySQL的缓存系统会监测涉及的每张表，只要该袤的结构或者数据被修改，比如对该表使用了的SERT、UPDATE、DELETE、TRUNCATE TABLE、ALTER TABLE、DROPT ABLE或DROP DATABASE语句，则与该表有关的所有查询缓存都将变为无效并从查询缓存中删除!</p>
<p>虽然查询缓存有时可以提升革统性能，但也不得不因维护这块级存而造成一些开销.比如每次都要去查询缓存中检索，查询请求处理完后需要先更新缓存，需要维护该查询缓存对应的内存区域等.从MySQL5.7.20开始，不才在荐使用查询缓存，在MySQL8.0中直接将其删除.</p>
</li>
<li><p>语法解析<br>如果查询缓存没有命中，接下来就需要进入正式的查询阶段了.因为客户端程序发送过来的请求只是一段文本，所以MySQL服务器程序首先妥对这段文本进行分析，判断请求的语法是否正确，然后从文本中将要查询的表、各种查询条件都提取出来放到MySQL服务器内部使用的一些数据结构上.<br>从本质上来说，这个从指定的文本中提取出需妥的信息算是一个编译过程，涉及词法分析和语法分析、语义分析等几个步骤。（编译学好再来看）</p>
</li>
<li><p>查询优化<br>在语法解析之后，服务器程序获得到了需要的信怠，比如要查询的表和列是哪些、搜索条件是什么等.但光有这些是不够的，因为我们写的MySQL语句执行起来效率可能并不是很高，MySQL的优化程序会对我们的话句做一些优化，如外连接转换为内连接、表达式简化、子查询转为连接等一堆东西.优化的结果就是生成一个执行计划，这个执行计划表明了应该使用哪些索引执行查询，以及表之间的连接顺序是啥样，等等.我们可以使用EXPLAIN语句来查看某个语句的执行计划.关于查询优化的详细内容我们后边会仔细唠叨，现在只需要知道在MySQL服务器程序处理请求的过程中有这么一个步骤就好了.</p>
</li>
</ol>
<h3 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h3><p>到服务器程序完成了查询优化为止，还没有真正地去访问真实的表中数据(在查询优化期间可能访问表中少量数据，在讨论查询优化的章节中我们会详细唠叨).MySQL服务器把数据的存储和提取操作都封装到了一个名为存储引擎的模块中.我们知道，表是由一行一行的记录组成的，但这只是一个逻辑上的概念.在物理上如何表示记录，怎么从表中读取数据，以及怎么把数据写入具体的物理存储器上，都是存储引擎负责的事情.为了实现不同的功能，MySQL提供了各式各样的存储引擎，不同存储引擎管理的表可能有不同的存储结构，采用的存取算法也可能不同.</p>
<p>为什么叫引擎呢?可能远个名字如阳其实这个存储刊以前叫作表处理器后来可能人们觉得太土，就改成了存储引擎.的功能就是接收上层传下来的指今，然后对农中的数据进行读取或写入操作.</p>
<p>为了方便管理，人们把MySQL服务器处理请求的过程简单地划分为server层和存储引擎层.连接管理、查询缓存、语法解析、查询优化这些并不涉及真实数据存取的功能划分为server层的功能，存取真实数据的功能划分为存储引擎层的功能.各种不同的存储引擎为server层提供统一的调用接口，其中包含了几十个不同用途的底层函数，比如”读取索引第一条记录” “读取索引下一条记录” “插入记录”等.</p>
<p>所以在server层完成了查询优化后，只需按照生成的执行计划调用底层存储引擎提供的接口获取到数据后返回给客户端就好了.不过需要注意的一点是server层和存储引擎层交互时，一般是以记录为单位的.以SELECT语句为例，server层根据执行计划先向存储引擎层取一条记录，然后判断是否符合WHERE条件:如果符合，就发送给客户端，否则跳过该记录，然后继续向存储引擎索要下一条记录:依此类推.</p>
<p>server层在判断某条记录符合要求之后，其实是先将其发送到一个缓冲区，待到该缓冲区满了，才向客户端发送真正的记录.该缓冲区大小由.系统变量net_buffer_length 控制，当然，你现在可能不知道啥是系统变量，不过下一章就会知道了.</p>
<h2 id="常用存储引擎"><a href="#常用存储引擎" class="headerlink" title="常用存储引擎"></a>常用存储引擎</h2><p>MySQL支持多种存储引擎，先来看看表1-2中列出的部分存储引擎.</p>
<p><img src="/images/howmysqlrun/%E8%A1%A81-2.png" alt="MySQL存储引擎"></p>
<p>这么多存储引擎，看着都眼花了，我们怎么挑啊.其实大家多虑了，我们最常用的就是InnoDB和MyISAM.偶尔还会提一下MEMORY.其中InnoDB是MySQL默认的存储引擎，我们之后会详细了解这个存储引擎的各种功能，现在先看一下部分存储引擎对于某些功能的支持情况，如表1-3所示.</p>
<p><img src="/images/howmysqlrun/%E8%A1%A81-3.png" alt="MySQL存储引擎支持的功能"></p>
<p>表1-3密密麻麻列了这么多，看得让人头皮发麻，目的就是想告诉你·这玩意儿很复杂(其实表1-3是我从MySQL文档中直接复制过来的).其实这些东西大家没必要立即记住，这里主要是想让大家明白不同的存储引擎支持不同的功能.有些重要的功能我们会在后面的唠叨中慢慢让大家理解.</p>
<p>InnoDB从MySQL5.5.5版本开始作为MySQL的默认存储引擎，之前版本的默认存储引擎为MyISAM.</p>
<h2 id="关于存储引擎的一些操作"><a href="#关于存储引擎的一些操作" class="headerlink" title="关于存储引擎的一些操作"></a>关于存储引擎的一些操作</h2><h3 id="查看当前服务器程序支持的存储引擎"><a href="#查看当前服务器程序支持的存储引擎" class="headerlink" title="查看当前服务器程序支持的存储引擎"></a>查看当前服务器程序支持的存储引擎</h3><p>我们可以用下面这个命令来查看当前服务器程序支持的存储引擎:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> engines;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span><br><span class="line"><span class="operator">|</span> Engine             <span class="operator">|</span> Support <span class="operator">|</span> Comment                                                        <span class="operator">|</span> Transactions <span class="operator">|</span> XA   <span class="operator">|</span> Savepoints <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span><br><span class="line"><span class="operator">|</span> ARCHIVE            <span class="operator">|</span> YES     <span class="operator">|</span> Archive storage engine                                         <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> BLACKHOLE          <span class="operator">|</span> YES     <span class="operator">|</span> <span class="operator">/</span>dev<span class="operator">/</span><span class="keyword">null</span> storage engine (anything you write <span class="keyword">to</span> it disappears) <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> MRG_MYISAM         <span class="operator">|</span> YES     <span class="operator">|</span> Collection <span class="keyword">of</span> identical MyISAM tables                          <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> FEDERATED          <span class="operator">|</span> <span class="keyword">NO</span>      <span class="operator">|</span> Federated MySQL storage engine                                 <span class="operator">|</span> <span class="keyword">NULL</span>         <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> MyISAM             <span class="operator">|</span> YES     <span class="operator">|</span> MyISAM storage engine                                          <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> PERFORMANCE_SCHEMA <span class="operator">|</span> YES     <span class="operator">|</span> Performance Schema                                             <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> InnoDB             <span class="operator">|</span> <span class="keyword">DEFAULT</span> <span class="operator">|</span> Supports transactions, <span class="type">row</span><span class="operator">-</span>level locking, <span class="keyword">and</span> <span class="keyword">foreign</span> keys     <span class="operator">|</span> YES          <span class="operator">|</span> YES  <span class="operator">|</span> YES        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> MEMORY             <span class="operator">|</span> YES     <span class="operator">|</span> Hash based, stored <span class="keyword">in</span> memory, useful <span class="keyword">for</span> temporary tables      <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> CSV                <span class="operator">|</span> YES     <span class="operator">|</span> CSV storage engine                                             <span class="operator">|</span> <span class="keyword">NO</span>           <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> <span class="keyword">NO</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span><br><span class="line"><span class="number">9</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<p>其中，Support列表示该存储引擎是否可用，DEFAU口值代表当前服务器程序的默认存储引擎;Comment列是对存储引擎的一个描述;Transactions列代表该存储引擎是否支持事务处理;XA列代表该存储引擎是否支持分布式事务;SaVepo晒列代表该存储引擎是否支持事务的部分回滚.</p>
<h3 id="设置表的存储引擎"><a href="#设置表的存储引擎" class="headerlink" title="设置表的存储引擎"></a>设置表的存储引擎</h3><p>我们前边说过，存储引擎是负责对表中的数据进行读取和写入工作的，我们可以为不同的表设置不同的存储引擎.也就是说，不同的表可以有不同的物理存储结构、不同的读取和写入方式.</p>
<ol>
<li><p>创建表时指定存储引擎<br>如果我们在创建袤的语句中没有指定袤的存储引擎，那就会使用默认的存储引擎InnoDB(当然，这个默认的存储引擎也是可以修改的，下一章再说怎么改)如果我们想显式地指定表的存储引擎，可以这么写:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名(</span><br><span class="line">    建表语句</span><br><span class="line">) ENGINE<span class="operator">=</span>存储引擎名;</span><br></pre></td></tr></table></figure>

<p>比如我们想创建一个存储引擎为MyISAM的表，可以这么写:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> enigine_demo_table(</span><br><span class="line">    id <span class="type">INT</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">) ENGINE<span class="operator">=</span>MyISAM;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.02</span> sec) </span><br></pre></td></tr></table></figure>
</li>
<li><p>修改表的存储引擎<br>如果表已经建好了，我们也可以使用下面这个语句来修改表的存储引擎:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 ENGINE<span class="operator">=</span>存储引擎名;</span><br></pre></td></tr></table></figure>

<p> 比如我们想把刚刚创建的enigine_demo_table表的存储引擎:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">table</span> engine_demo_table ENGINE <span class="operator">=</span>InnoDB;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.02</span> sec)</span><br><span class="line">Records: <span class="number">0</span>  Duplicates: <span class="number">0</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p> 这时我们再查看一下engine_demo_table的表结构:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> engine_demo_table\G;</span><br><span class="line"><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span> <span class="number">1.</span> <span class="type">row</span> <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span></span><br><span class="line">    <span class="keyword">Table</span>: engine_demo_table</span><br><span class="line"><span class="keyword">Create</span> <span class="keyword">Table</span>: <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `engine_demo_table` (</span><br><span class="line">`i` <span class="type">int</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span></span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci</span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">ERROR: </span><br><span class="line"><span class="keyword">No</span> query specified</span><br></pre></td></tr></table></figure></li>
</ol>
<p>可以看到该表的存储引擎已经改为InnoDB了.</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/MySQL%E6%98%AF%E6%80%8E%E6%A0%B7%E8%BF%90%E8%A1%8C%E7%9A%84/" rel="tag"># MySQL是怎样运行的</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/05/13/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1Ribbon/" rel="prev" title="负载均衡Ribbon">
                  <i class="fa fa-angle-left"></i> 负载均衡Ribbon
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/05/22/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/" rel="next" title="设计模式-适配器模式">
                  设计模式-适配器模式 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">星之辰</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">148k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">8:59</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>-->

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.0/mermaid.min.js","integrity":"sha256-stuqcu2FrjYCXDOytWFA5SoUE/r3nkp6gTglzNSlavU="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>





  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
